<h1>TensorFlow を使用した ML の実行</h1>
<h2>概要</h2>
<p>このラボでは、前のラボから引き続き Datalab ノートブックを使用し、TensorFlow ニューラル ネットワークを作成してタクシーの需要を予測します。</p>
<h3><strong>学習内容</strong></h3>
<p>このラボの内容:</p>
<p>TensorFlow を使用してニューヨーク市のタクシー需要を予測するニューラル ネットワーク モデルを作成する</p>
<h2>はじめに</h2>
<p>このラボでは、引き続き機械学習を使用して需要予測システムを構築します。前のラボで、タクシーの需要に影響を与える要素（「入力特徴」）と過去の実際の需要（「ターゲット」）で構成されるトレーニング データセットを作成しました。このラボでは、このデータを使用して TensorFlow ニューラル ネットワークをトレーニングし、入力した特徴に基づいて将来の需要を予測できるようにします。</p>
<h2>設定</h2>
<fragment path="/fragments/cloudshell"></fragment>
<h2>タスク 1: Cloud Datalab を起動する</h2>
<p>Cloud Datalab を起動するには:</p>
<ol>
<li>
<p><strong>Cloud Shell</strong> で次のように入力します。</p>
</li>
</ol>
<pre><code>gcloud compute zones list
</code></pre>
<ol start="2">
<li>
<p>地理的に近いリージョンのゾーンを選択します。</p>
</li>
<li>
<p><strong>Cloud Shell</strong> で次のように入力します。</p>
</li>
</ol>
<pre><code>datalab create bdmlvm --zone &lt;ZONE&gt;
</code></pre>
<p>Datalab が起動するまでに約 5 分かかります。</p>
<p><code><strong>注</strong>: この手順ではプロンプトに沿って操作します。</code></p>
<h2>タスク 2: Cloud Datalab にノートブックをチェックアウトする</h2>
<p>必要に応じて、Datalab の起動が終了するまで待ちます。Datalab が使用できる状態になると、「ウェブでプレビュー」を促すメッセージが表示されます。</p>
<ol>
<li>
<p>Cloud Shell リボンの右上にある [<strong>ウェブでプレビュー</strong>] アイコンをクリックします。[<strong>ポートの変更</strong>] をクリックします。[<strong>プレビュー ポートの変更</strong>] ダイアログ ボックスを使用してポート <strong>8081</strong> に切り替え、[<strong>変更してプレビュー</strong>] をクリックします。</p>
<p><img src="img/ChangePort.png" alt="ChangePort.png"></p>
<p><img src="img/ChangePreviewPort.png" alt="ChangePreviewPort.png"></p>
<p><strong>注</strong>: datalab コマンドがアクティブな間は、Datalab インスタンスへの接続は開いたままになります。datalab コマンドの実行に使用している Cloud Shell がクローズされるかまたは中断されると、Cloud Datalab VM への接続が切断されます。その場合、新しい Cloud Shell でコマンド「<code>datalab connect bdmlvm</code>」を使用すると再接続できる可能性があります。</p>
</li>
<li>
<p><strong>Datalab</strong> の右上のリボンにある <strong>[Open ungit]</strong> アイコンをクリックします。</p>
<p><img src="img/fc5c4f63c40f83f.png" alt="fc5c4f63c40f83f.png"></p>
</li>
<li>
<p>[Ungit] ウィンドウで、<strong>/content/datalab/notebooks</strong> というテキストを選択します。このテキストから <strong>notebooks</strong> を削除して <strong>/content/datalab</strong> にし、<strong>Enter</strong> キーを押します。</p>
<p><img src="img/dbeb32393b0874e4.png" alt="dbeb32393b0874e4.png"></p>
</li>
<li>
<p>表示されるパネルの [<strong>Clone from</strong>] に、GitHub リポジトリとして次の文字列を入力します。</p>
<pre><code class="language-bash">https://github.com/GoogleCloudPlatform/training-data-analyst
</code></pre>
</li>
<li>
<p>[<strong>Clone Repository</strong>] をクリックします。</p>
</li>
</ol>
<h2>タスク 3: Datalab ノートブックを開く</h2>
<ol>
<li>
<p>Datalab ブラウザで <strong>[training-data-analyst] &gt; [CPB100] &gt; [lab4a] &gt; [demandforecast.ipynb]</strong> に移動します。</p>
</li>
<li>
<p>前のラボと同様に、ノートブック内のそれぞれのセルを実行して、「<strong>Machine Learning with Tensorflow</strong>」セクションまで進みます。</p>
</li>
<li>
<p>残りのセルを引き続き実行します。</p>
</li>
<li>
<p>コメントを読み、[<strong>Clear | Clear all Cells</strong>] をクリックし、セルに入力された Python スニペットを順番に実行します（<strong>Shift+Enter</strong> キーを使用するとコードを 1 つずつ実行できます）。</p>
</li>
</ol>
<fragment path="/fragments/endqwiklab"></fragment>
<p>マニュアルの最終更新日: 2018 年 10 月 10 日</p>
<p>ラボの最終テスト日: 2018 年 10 月 10 日</p>
<fragment path="/fragments/copyright"></fragment>
